<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="../style.css" type="text/css">
<meta content="text/html; charset=utf8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Server.Package.html">
<link rel="next" href="Server.Request.html">
<link rel="Up" href="Server.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class attributes" rel=Appendix href="index_attributes.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of classes" rel=Appendix href="index_classes.html">
<link title="Index of class types" rel=Appendix href="index_class_types.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Abstract_interp" rel="Chapter" href="Abstract_interp.html">
<link title="Acsl_extension" rel="Chapter" href="Acsl_extension.html">
<link title="Alarms" rel="Chapter" href="Alarms.html">
<link title="Allocates" rel="Chapter" href="Allocates.html">
<link title="Alpha" rel="Chapter" href="Alpha.html">
<link title="Analyses_manager" rel="Chapter" href="Analyses_manager.html">
<link title="Annotations" rel="Chapter" href="Annotations.html">
<link title="Array" rel="Chapter" href="Array.html">
<link title="Asm_contracts" rel="Chapter" href="Asm_contracts.html">
<link title="Ast" rel="Chapter" href="Ast.html">
<link title="Ast_info" rel="Chapter" href="Ast_info.html">
<link title="Bag" rel="Chapter" href="Bag.html">
<link title="Base" rel="Chapter" href="Base.html">
<link title="Binary_cache" rel="Chapter" href="Binary_cache.html">
<link title="Bit_utils" rel="Chapter" href="Bit_utils.html">
<link title="Bitvector" rel="Chapter" href="Bitvector.html">
<link title="Bottom" rel="Chapter" href="Bottom.html">
<link title="Buffer" rel="Chapter" href="Buffer.html">
<link title="Bytes" rel="Chapter" href="Bytes.html">
<link title="Cabs" rel="Chapter" href="Cabs.html">
<link title="Cabs2cil" rel="Chapter" href="Cabs2cil.html">
<link title="Cabs_debug" rel="Chapter" href="Cabs_debug.html">
<link title="Cabshelper" rel="Chapter" href="Cabshelper.html">
<link title="Cabsvisit" rel="Chapter" href="Cabsvisit.html">
<link title="Cfg" rel="Chapter" href="Cfg.html">
<link title="Char" rel="Chapter" href="Char.html">
<link title="Cil" rel="Chapter" href="Cil.html">
<link title="Cil_const" rel="Chapter" href="Cil_const.html">
<link title="Cil_datatype" rel="Chapter" href="Cil_datatype.html">
<link title="Cil_descriptive_printer" rel="Chapter" href="Cil_descriptive_printer.html">
<link title="Cil_printer" rel="Chapter" href="Cil_printer.html">
<link title="Cil_state_builder" rel="Chapter" href="Cil_state_builder.html">
<link title="Cil_types" rel="Chapter" href="Cil_types.html">
<link title="Cil_types_debug" rel="Chapter" href="Cil_types_debug.html">
<link title="Cilconfig" rel="Chapter" href="Cilconfig.html">
<link title="Clexer" rel="Chapter" href="Clexer.html">
<link title="Clone" rel="Chapter" href="Clone.html">
<link title="Cmdline" rel="Chapter" href="Cmdline.html">
<link title="Command" rel="Chapter" href="Command.html">
<link title="Cparser" rel="Chapter" href="Cparser.html">
<link title="Cprint" rel="Chapter" href="Cprint.html">
<link title="Dataflow2" rel="Chapter" href="Dataflow2.html">
<link title="Dataflows" rel="Chapter" href="Dataflows.html">
<link title="Datatype" rel="Chapter" href="Datatype.html">
<link title="Db" rel="Chapter" href="Db.html">
<link title="Descr" rel="Chapter" href="Descr.html">
<link title="Description" rel="Chapter" href="Description.html">
<link title="Design" rel="Chapter" href="Design.html">
<link title="Destructors" rel="Chapter" href="Destructors.html">
<link title="Dgraph_helper" rel="Chapter" href="Dgraph_helper.html">
<link title="Dominators" rel="Chapter" href="Dominators.html">
<link title="Dotgraph" rel="Chapter" href="Dotgraph.html">
<link title="Dump_config" rel="Chapter" href="Dump_config.html">
<link title="Dynamic" rel="Chapter" href="Dynamic.html">
<link title="Emitter" rel="Chapter" href="Emitter.html">
<link title="Ephemeron" rel="Chapter" href="Ephemeron.html">
<link title="Errorloc" rel="Chapter" href="Errorloc.html">
<link title="Escape" rel="Chapter" href="Escape.html">
<link title="Eva_lattice_type" rel="Chapter" href="Eva_lattice_type.html">
<link title="Exn_flow" rel="Chapter" href="Exn_flow.html">
<link title="Extlib" rel="Chapter" href="Extlib.html">
<link title="FCHashtbl" rel="Chapter" href="FCHashtbl.html">
<link title="Fc_config" rel="Chapter" href="Fc_config.html">
<link title="Fc_float" rel="Chapter" href="Fc_float.html">
<link title="File" rel="Chapter" href="File.html">
<link title="File_manager" rel="Chapter" href="File_manager.html">
<link title="Filecheck" rel="Chapter" href="Filecheck.html">
<link title="Filepath" rel="Chapter" href="Filepath.html">
<link title="Filetree" rel="Chapter" href="Filetree.html">
<link title="Filter" rel="Chapter" href="Filter.html">
<link title="Float_interval" rel="Chapter" href="Float_interval.html">
<link title="Float_interval_sig" rel="Chapter" href="Float_interval_sig.html">
<link title="Float_sig" rel="Chapter" href="Float_sig.html">
<link title="Floating_point" rel="Chapter" href="Floating_point.html">
<link title="Format" rel="Chapter" href="Format.html">
<link title="Frama_c_init" rel="Chapter" href="Frama_c_init.html">
<link title="Frontc" rel="Chapter" href="Frontc.html">
<link title="Fval" rel="Chapter" href="Fval.html">
<link title="GSourceView" rel="Chapter" href="GSourceView.html">
<link title="Ghost_accesses" rel="Chapter" href="Ghost_accesses.html">
<link title="Ghost_cfg" rel="Chapter" href="Ghost_cfg.html">
<link title="Globals" rel="Chapter" href="Globals.html">
<link title="Gtk_compat" rel="Chapter" href="Gtk_compat.html">
<link title="Gtk_form" rel="Chapter" href="Gtk_form.html">
<link title="Gtk_helper" rel="Chapter" href="Gtk_helper.html">
<link title="Gui_init" rel="Chapter" href="Gui_init.html">
<link title="Gui_parameters" rel="Chapter" href="Gui_parameters.html">
<link title="Gui_printers" rel="Chapter" href="Gui_printers.html">
<link title="Hashtbl" rel="Chapter" href="Hashtbl.html">
<link title="Help_manager" rel="Chapter" href="Help_manager.html">
<link title="History" rel="Chapter" href="History.html">
<link title="Hook" rel="Chapter" href="Hook.html">
<link title="Hptmap" rel="Chapter" href="Hptmap.html">
<link title="Hptmap_sig" rel="Chapter" href="Hptmap_sig.html">
<link title="Hptset" rel="Chapter" href="Hptset.html">
<link title="Indexer" rel="Chapter" href="Indexer.html">
<link title="Infer_annotations" rel="Chapter" href="Infer_annotations.html">
<link title="Inline" rel="Chapter" href="Inline.html">
<link title="Int64" rel="Chapter" href="Int64.html">
<link title="Int_Base" rel="Chapter" href="Int_Base.html">
<link title="Int_Intervals" rel="Chapter" href="Int_Intervals.html">
<link title="Int_Intervals_sig" rel="Chapter" href="Int_Intervals_sig.html">
<link title="Int_interval" rel="Chapter" href="Int_interval.html">
<link title="Int_set" rel="Chapter" href="Int_set.html">
<link title="Int_val" rel="Chapter" href="Int_val.html">
<link title="Integer" rel="Chapter" href="Integer.html">
<link title="Interpreted_automata" rel="Chapter" href="Interpreted_automata.html">
<link title="Ival" rel="Chapter" href="Ival.html">
<link title="Journal" rel="Chapter" href="Journal.html">
<link title="Json" rel="Chapter" href="Json.html">
<link title="Json_compilation_database" rel="Chapter" href="Json_compilation_database.html">
<link title="Kernel" rel="Chapter" href="Kernel.html">
<link title="Kernel_function" rel="Chapter" href="Kernel_function.html">
<link title="Lattice_messages" rel="Chapter" href="Lattice_messages.html">
<link title="Lattice_type" rel="Chapter" href="Lattice_type.html">
<link title="Launcher" rel="Chapter" href="Launcher.html">
<link title="Lexerhack" rel="Chapter" href="Lexerhack.html">
<link title="List" rel="Chapter" href="List.html">
<link title="Lmap" rel="Chapter" href="Lmap.html">
<link title="Lmap_bitwise" rel="Chapter" href="Lmap_bitwise.html">
<link title="Lmap_sig" rel="Chapter" href="Lmap_sig.html">
<link title="Locations" rel="Chapter" href="Locations.html">
<link title="Log" rel="Chapter" href="Log.html">
<link title="Logic_builtin" rel="Chapter" href="Logic_builtin.html">
<link title="Logic_const" rel="Chapter" href="Logic_const.html">
<link title="Logic_env" rel="Chapter" href="Logic_env.html">
<link title="Logic_interp" rel="Chapter" href="Logic_interp.html">
<link title="Logic_lexer" rel="Chapter" href="Logic_lexer.html">
<link title="Logic_parser" rel="Chapter" href="Logic_parser.html">
<link title="Logic_preprocess" rel="Chapter" href="Logic_preprocess.html">
<link title="Logic_print" rel="Chapter" href="Logic_print.html">
<link title="Logic_ptree" rel="Chapter" href="Logic_ptree.html">
<link title="Logic_typing" rel="Chapter" href="Logic_typing.html">
<link title="Logic_utils" rel="Chapter" href="Logic_utils.html">
<link title="Loop" rel="Chapter" href="Loop.html">
<link title="Machdeps" rel="Chapter" href="Machdeps.html">
<link title="Map" rel="Chapter" href="Map.html">
<link title="Map_lattice" rel="Chapter" href="Map_lattice.html">
<link title="Markdown" rel="Chapter" href="Markdown.html">
<link title="Marshal" rel="Chapter" href="Marshal.html">
<link title="Menu_manager" rel="Chapter" href="Menu_manager.html">
<link title="Mergecil" rel="Chapter" href="Mergecil.html">
<link title="Messages" rel="Chapter" href="Messages.html">
<link title="Obj" rel="Chapter" href="Obj.html">
<link title="Offsetmap" rel="Chapter" href="Offsetmap.html">
<link title="Offsetmap_bitwise_sig" rel="Chapter" href="Offsetmap_bitwise_sig.html">
<link title="Offsetmap_lattice_with_isotropy" rel="Chapter" href="Offsetmap_lattice_with_isotropy.html">
<link title="Offsetmap_sig" rel="Chapter" href="Offsetmap_sig.html">
<link title="Oneret" rel="Chapter" href="Oneret.html">
<link title="Ordered_stmt" rel="Chapter" href="Ordered_stmt.html">
<link title="Origin" rel="Chapter" href="Origin.html">
<link title="Parameter_builder" rel="Chapter" href="Parameter_builder.html">
<link title="Parameter_category" rel="Chapter" href="Parameter_category.html">
<link title="Parameter_customize" rel="Chapter" href="Parameter_customize.html">
<link title="Parameter_sig" rel="Chapter" href="Parameter_sig.html">
<link title="Parameter_state" rel="Chapter" href="Parameter_state.html">
<link title="Parsing" rel="Chapter" href="Parsing.html">
<link title="Plugin" rel="Chapter" href="Plugin.html">
<link title="Pretty_source" rel="Chapter" href="Pretty_source.html">
<link title="Pretty_utils" rel="Chapter" href="Pretty_utils.html">
<link title="Printer" rel="Chapter" href="Printer.html">
<link title="Printer_api" rel="Chapter" href="Printer_api.html">
<link title="Printer_builder" rel="Chapter" href="Printer_builder.html">
<link title="Printer_tag" rel="Chapter" href="Printer_tag.html">
<link title="Printf" rel="Chapter" href="Printf.html">
<link title="Project" rel="Chapter" href="Project.html">
<link title="Project_manager" rel="Chapter" href="Project_manager.html">
<link title="Project_skeleton" rel="Chapter" href="Project_skeleton.html">
<link title="Property" rel="Chapter" href="Property.html">
<link title="Property_navigator" rel="Chapter" href="Property_navigator.html">
<link title="Property_status" rel="Chapter" href="Property_status.html">
<link title="Qstack" rel="Chapter" href="Qstack.html">
<link title="Queue" rel="Chapter" href="Queue.html">
<link title="Rangemap" rel="Chapter" href="Rangemap.html">
<link title="Rgmap" rel="Chapter" href="Rgmap.html">
<link title="Rich_text" rel="Chapter" href="Rich_text.html">
<link title="Rmtmps" rel="Chapter" href="Rmtmps.html">
<link title="Sanitizer" rel="Chapter" href="Sanitizer.html">
<link title="Scanf" rel="Chapter" href="Scanf.html">
<link title="Service_graph" rel="Chapter" href="Service_graph.html">
<link title="Set" rel="Chapter" href="Set.html">
<link title="Source_manager" rel="Chapter" href="Source_manager.html">
<link title="Source_viewer" rel="Chapter" href="Source_viewer.html">
<link title="Special_hooks" rel="Chapter" href="Special_hooks.html">
<link title="Stack" rel="Chapter" href="Stack.html">
<link title="State" rel="Chapter" href="State.html">
<link title="State_builder" rel="Chapter" href="State_builder.html">
<link title="State_dependency_graph" rel="Chapter" href="State_dependency_graph.html">
<link title="State_selection" rel="Chapter" href="State_selection.html">
<link title="State_topological" rel="Chapter" href="State_topological.html">
<link title="Statuses_by_call" rel="Chapter" href="Statuses_by_call.html">
<link title="Stmts_graph" rel="Chapter" href="Stmts_graph.html">
<link title="String" rel="Chapter" href="String.html">
<link title="Structural_descr" rel="Chapter" href="Structural_descr.html">
<link title="Substitute_const_globals" rel="Chapter" href="Substitute_const_globals.html">
<link title="Sys" rel="Chapter" href="Sys.html">
<link title="Task" rel="Chapter" href="Task.html">
<link title="Tr_offset" rel="Chapter" href="Tr_offset.html">
<link title="Transitioning" rel="Chapter" href="Transitioning.html">
<link title="Translate_lightweight" rel="Chapter" href="Translate_lightweight.html">
<link title="Type" rel="Chapter" href="Type.html">
<link title="Typed_parameter" rel="Chapter" href="Typed_parameter.html">
<link title="Undefined_sequence" rel="Chapter" href="Undefined_sequence.html">
<link title="Unicode" rel="Chapter" href="Unicode.html">
<link title="Unmarshal" rel="Chapter" href="Unmarshal.html">
<link title="Unmarshal_z" rel="Chapter" href="Unmarshal_z.html">
<link title="Unroll_loops" rel="Chapter" href="Unroll_loops.html">
<link title="Utf8_logic" rel="Chapter" href="Utf8_logic.html">
<link title="Vector" rel="Chapter" href="Vector.html">
<link title="Visitor" rel="Chapter" href="Visitor.html">
<link title="Visitor_behavior" rel="Chapter" href="Visitor_behavior.html">
<link title="Warning_manager" rel="Chapter" href="Warning_manager.html">
<link title="Wbox" rel="Chapter" href="Wbox.html">
<link title="Weak" rel="Chapter" href="Weak.html">
<link title="Wfile" rel="Chapter" href="Wfile.html">
<link title="Widget" rel="Chapter" href="Widget.html">
<link title="Wpalette" rel="Chapter" href="Wpalette.html">
<link title="Wpane" rel="Chapter" href="Wpane.html">
<link title="Wtable" rel="Chapter" href="Wtable.html">
<link title="Wtext" rel="Chapter" href="Wtext.html">
<link title="Wto" rel="Chapter" href="Wto.html">
<link title="Wto_statement" rel="Chapter" href="Wto_statement.html">
<link title="Wutil" rel="Chapter" href="Wutil.html">
<link title="Wutil_once" rel="Chapter" href="Wutil_once.html">
<link title="Server" rel="Chapter" href="Server.html">
<link title="Server_parameters" rel="Chapter" href="Server_parameters.html">
<link title="Jbuffer" rel="Chapter" href="Jbuffer.html">
<link title="Package" rel="Chapter" href="Package.html">
<link title="Data" rel="Chapter" href="Data.html">
<link title="Main" rel="Chapter" href="Main.html">
<link title="Request" rel="Chapter" href="Request.html">
<link title="States" rel="Chapter" href="States.html">
<link title="Server_doc" rel="Chapter" href="Server_doc.html">
<link title="Kernel_main" rel="Chapter" href="Kernel_main.html">
<link title="Kernel_project" rel="Chapter" href="Kernel_project.html">
<link title="Kernel_ast" rel="Chapter" href="Kernel_ast.html">
<link title="Kernel_properties" rel="Chapter" href="Kernel_properties.html"><link title="Datatypes" rel="Section" href="#2_Datatypes">
<link title="Atomic Data" rel="Section" href="#2_AtomicData">
<link title="Constructors" rel="Section" href="#2_Constructors">
<link title="Functional API" rel="Section" href="#2_FunctionalAPI">
<link title="Records" rel="Section" href="#2_Records">
<link title="Enums" rel="Section" href="#2_Enums">
<link title="Indexed Values" rel="Section" href="#2_IndexedValues">
<link title="Error handling" rel="Section" href="#2_Errorhandling">
<title>Server.Data - Server plugin</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Server.Package.html" title="Server.Package">Previous</a>
&nbsp;<a class="up" href="Server.html" title="Server">Up</a>
&nbsp;<a class="post" href="Server.Request.html" title="Server.Request">Next</a>
</div>
<h1>Module <a href="type_Server.Data.html">Server.Data</a></h1>

<pre><span id="MODULEData"><span class="keyword">module</span> Data</span>: <code class="code"><span class="keyword">sig</span></code> <a href="Server.Data.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><hr width="100%">
<p>Data Encoding.</p>
<h3 id="2_Datatypes">Datatypes</h3>
<p>This module is responsible for marshaling and demarshaling data to handle
    communications between the server and the client in both directions.</p>

<p>Each datatype must be equipped with functions to encode and decode values
    to/from JSON format. Moreover, data types shall be also properly documented
    and registered in the generated documentation of the Frama-C server.</p>

<p>Generally speaking, we will have a module with signature <code class="code"><span class="constructor">Data</span>.<span class="constructor">D</span></code> for every
    datatype to be exchanged with the server. For simple values, predefined
    modules are already provided. More complex datatypes can be built with some
    functors, typically for options, lists or arrays.</p>

<p>Records and enumerated types are typical in JSON formatting, but difficult
    to build from OCaml records and abstract datatypes. For those kinds of data,
    we provide an API based on the following general scheme:</p>
<ul>
<li>First create an empty container with its name, documentation and such;</li>
<li>Then add each field or constructor to the container;</li>
<li>Finally pack the container, which actually registers its complete
      documentation and returns an OCaml value containing the resulting datatype
      module.</li>
</ul>
<p>Hence, in addition to module signature <code class="code"><span class="constructor">Data</span>.<span class="constructor">S</span></code> for values, there is also a
    polymorphic type <code class="code"><span class="keywordsign">'</span>a&nbsp;<span class="constructor">Data</span>.data</code> for module values carrying a data module with
    type <code class="code">t&nbsp;=&nbsp;<span class="keywordsign">'</span>a</code>.</p>

<p>The same mechanism is used throughout modules <code class="code"><span class="constructor">States</span></code> and <code class="code"><span class="constructor">Request</span></code> each
    time a JSON record or tag is needed.</p>

<pre><span id="TYPEjson"><span class="keyword">type</span> <code class="type"></code>json</span> = <code class="type"><a href="../../../doc/code/html/Json.html#TYPEt">Json.t</a></code> </pre>


<pre><span id="VALpretty"><span class="keyword">val</span> pretty</span> : <code class="type">Stdlib.Format.formatter -> <a href="./Server.Data.html#TYPEjson">json</a> -> unit</code></pre>
<pre><span id="MODULETYPES"><span class="keyword">module type</span> <a href="Server.Data.S.html">S</a></span> = <code class="code"><span class="keyword">sig</span></code> <a href="Server.Data.S.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
<p>Datatype module signature.</p>

</div>
<h3 id="2_AtomicData">Atomic Data</h3>
<pre><span id="MODULEJunit"><span class="keyword">module</span> <a href="Server.Data.Junit.html">Junit</a></span>: <code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = unit</code></pre>
<pre><span id="MODULEJany"><span class="keyword">module</span> <a href="Server.Data.Jany.html">Jany</a></span>: <code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = json</code></pre>
<pre><span id="MODULEJbool"><span class="keyword">module</span> <a href="Server.Data.Jbool.html">Jbool</a></span>: <code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = bool</code></pre>
<pre><span id="MODULEJint"><span class="keyword">module</span> <a href="Server.Data.Jint.html">Jint</a></span>: <code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = int</code></pre>
<pre><span id="MODULEJfloat"><span class="keyword">module</span> <a href="Server.Data.Jfloat.html">Jfloat</a></span>: <code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = float</code></pre>
<pre><span id="MODULEJstring"><span class="keyword">module</span> <a href="Server.Data.Jstring.html">Jstring</a></span>: <code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = string</code></pre>
<pre><span id="MODULEJalpha"><span class="keyword">module</span> <a href="Server.Data.Jalpha.html">Jalpha</a></span>: <code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = string</code></pre>
<pre><span id="MODULEJtext"><span class="keyword">module</span> <a href="Server.Data.Jtext.html">Jtext</a></span>: <code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = json</code></pre><div class="info">
<p>Rich text encoding, see <code class="code"><span class="constructor">Jbuffer</span></code>.</p>

</div>

<pre><span id="MODULEJmarkdown"><span class="keyword">module</span> <a href="Server.Data.Jmarkdown.html">Jmarkdown</a></span>: <code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = Markdown.text</code></pre><h3 id="2_Constructors">Constructors</h3>
<pre><span id="MODULEJoption"><span class="keyword">module</span> <a href="Server.Data.Joption.html">Joption</a></span>: <div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">A</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = A.t option</code></div></pre>
<pre><span id="MODULEJpair"><span class="keyword">module</span> <a href="Server.Data.Jpair.html">Jpair</a></span>: <div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">A</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">B</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = A.t * B.t</code></div></div></pre>
<pre><span id="MODULEJtriple"><span class="keyword">module</span> <a href="Server.Data.Jtriple.html">Jtriple</a></span>: <div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">A</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">B</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">C</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = A.t * B.t * C.t</code></div></div></div></pre>
<pre><span id="MODULEJlist"><span class="keyword">module</span> <a href="Server.Data.Jlist.html">Jlist</a></span>: <div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">A</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = A.t list</code></div></pre>
<pre><span id="MODULEJalist"><span class="keyword">module</span> <a href="Server.Data.Jalist.html">Jalist</a></span>: <div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">A</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = A.t list</code></div></pre>
<pre><span id="MODULEJarray"><span class="keyword">module</span> <a href="Server.Data.Jarray.html">Jarray</a></span>: <div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">A</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = A.t array</code></div></pre><h3 id="2_FunctionalAPI">Functional API</h3>
<pre><span id="TYPEdata"><span class="keyword">type</span> <code class="type">'a</code> data</span> = <code class="type">(module Server.Data.S with type t = 'a)</code> </pre>
<div class="info ">
<div class="info-desc">
<p>Polymorphic data value.</p>
</div>
</div>


<pre><span id="VALjunit"><span class="keyword">val</span> junit</span> : <code class="type">unit <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjany"><span class="keyword">val</span> jany</span> : <code class="type"><a href="./Server.Data.html#TYPEjson">json</a> <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjbool"><span class="keyword">val</span> jbool</span> : <code class="type">bool <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjint"><span class="keyword">val</span> jint</span> : <code class="type">int <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjfloat"><span class="keyword">val</span> jfloat</span> : <code class="type">float <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjstring"><span class="keyword">val</span> jstring</span> : <code class="type">string <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjalpha"><span class="keyword">val</span> jalpha</span> : <code class="type">string <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjindex"><span class="keyword">val</span> jindex</span> : <code class="type">kind:string -> int <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjkey"><span class="keyword">val</span> jkey</span> : <code class="type">kind:string -> string <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjlist"><span class="keyword">val</span> jlist</span> : <code class="type">'a <a href="./Server.Data.html#TYPEdata">data</a> -> 'a list <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjalist"><span class="keyword">val</span> jalist</span> : <code class="type">'a <a href="./Server.Data.html#TYPEdata">data</a> -> 'a list <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjarray"><span class="keyword">val</span> jarray</span> : <code class="type">'a <a href="./Server.Data.html#TYPEdata">data</a> -> 'a array <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALjoption"><span class="keyword">val</span> joption</span> : <code class="type">'a <a href="./Server.Data.html#TYPEdata">data</a> -> 'a option <a href="./Server.Data.html#TYPEdata">data</a></code></pre>
<pre><span id="VALderived"><span class="keyword">val</span> derived</span> : <code class="type">package:<a href="./Server.Package.html#TYPEpackage">Server.Package.package</a> -><br>       id:<a href="./Server.Package.html#TYPEident">Server.Package.ident</a> -> <a href="./Server.Package.html#TYPEjtype">Server.Package.jtype</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Declare the derived names for the provided type.
   Shall not be used directely.</p>
</div>
</div>

<pre><span id="VALdeclare"><span class="keyword">val</span> declare</span> : <code class="type">package:<a href="./Server.Package.html#TYPEpackage">Server.Package.package</a> -><br>       name:string -><br>       ?descr:<a href="../../../doc/code/html/Markdown.html#TYPEtext">Markdown.text</a> -> <a href="./Server.Package.html#TYPEjtype">Server.Package.jtype</a> -> <a href="./Server.Package.html#TYPEjtype">Server.Package.jtype</a></code></pre><div class="info ">
<div class="info-desc">
<p>Declare a new type and returns its alias.
   Same as <code class="code"><span class="constructor">Jdata</span>&nbsp;(declare_id&nbsp;~package&nbsp;~name&nbsp;(<span class="constructor">D_type</span>&nbsp;js))</code>.
   Automatically declare the derived names.</p>
</div>
</div>
<h3 id="2_Records">Records</h3>
<pre><span id="MODULERecord"><span class="keyword">module</span> <a href="Server.Data.Record.html">Record</a></span>: <code class="code"><span class="keyword">sig</span></code> <a href="Server.Data.Record.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
<p>Record factory.</p>

</div>
<h3 id="2_Enums">Enums</h3>
<pre><span id="MODULETag"><span class="keyword">module</span> <a href="Server.Data.Tag.html">Tag</a></span>: <code class="type"><a href="./Server.Data.S.html">S</a></code><code class="type">  with type t = tagInfo</code></pre>
<pre><span id="MODULEEnum"><span class="keyword">module</span> <a href="Server.Data.Enum.html">Enum</a></span>: <code class="code"><span class="keyword">sig</span></code> <a href="Server.Data.Enum.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
<p>Enum factory.</p>

</div>
<h3 id="2_IndexedValues">Indexed Values</h3>
<p>These datatypes automatically index complex values with
    unique identifiers. This avoids to encode the internal OCaml
    representation of each value, by only providing to the server
    a unique identifier for each value.</p>

<p>These datatype functors come into three flavors:</p>
<ul>
<li><code class="code"><span class="constructor">Index</span>()</code> for projectified datatypes,</li>
<li><code class="code"><span class="constructor">Static</span>()</code> for project independant datatypes,</li>
<li><code class="code"><span class="constructor">Identified</span>()</code> for projectified values already identified by integers.</li>
</ul>

<pre><span id="MODULETYPEInfo"><span class="keyword">module type</span> <a href="Server.Data.Info.html">Info</a></span> = <code class="code"><span class="keyword">sig</span></code> <a href="Server.Data.Info.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
<p>Datatype information.</p>

</div>

<pre><span id="MODULETYPEMap"><span class="keyword">module type</span> <a href="Server.Data.Map.html">Map</a></span> = <code class="code"><span class="keyword">sig</span></code> <a href="Server.Data.Map.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
<p>Simplified <code class="code"><span class="constructor">Map</span>.<span class="constructor">S</span></code>.</p>

</div>

<pre><span id="MODULETYPEIndex"><span class="keyword">module type</span> <a href="Server.Data.Index.html">Index</a></span> = <code class="code"><span class="keyword">sig</span></code> <a href="Server.Data.Index.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
<p>Datatype extended with access to value identifiers.</p>

</div>

<pre><span id="MODULEStatic"><span class="keyword">module</span> <a href="Server.Data.Static.html">Static</a></span>: <div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">M</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.Map.html">Map</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">I</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.Info.html">Info</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><code class="type"><a href="./Server.Data.Index.html">Index</a></code><code class="type">  with type t = M.key</code></div></div></pre><div class="info">
<p>Builds an indexer that <i>does not</i> depend on current project.</p>

</div>

<pre><span id="MODULEIndex"><span class="keyword">module</span> <a href="Server.Data.Index.html">Index</a></span>: <div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">M</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.Map.html">Map</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">I</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.Info.html">Info</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><code class="type"><a href="./Server.Data.Index.html">Index</a></code><code class="type">  with type t = M.key</code></div></div></pre><div class="info">
<p>Builds a <i>projectified</i> index.</p>

</div>

<pre><span id="MODULETYPEIdentifiedType"><span class="keyword">module type</span> <a href="Server.Data.IdentifiedType.html">IdentifiedType</a></span> = <code class="code"><span class="keyword">sig</span></code> <a href="Server.Data.IdentifiedType.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
<p>Datatype already identified by unique integers.</p>

</div>

<pre><span id="MODULEIdentified"><span class="keyword">module</span> <a href="Server.Data.Identified.html">Identified</a></span>: <div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">A</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.IdentifiedType.html">IdentifiedType</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><div class="sig_block"><code class="code"><span class="keyword">functor</span>&nbsp;(</code><code class="code"><span class="constructor">I</span></code><code class="code">&nbsp;:&nbsp;</code><code class="type"><a href="./Server.Data.Info.html">Info</a></code><code class="code">)&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;</code><code class="type"><a href="./Server.Data.Index.html">Index</a></code><code class="type">  with type t = A.t</code></div></div></pre><div class="info">
<p>Builds a <i>projectified</i> index on types with <i>unique</i> identifiers.</p>

</div>
<h3 id="2_Errorhandling">Error handling</h3>
<p>These utilities shall be used when writing your own encoding and decoding
    values to JSON format.</p>

<pre><span id="EXCEPTIONInputError"><span class="keyword">exception</span> InputError</span> <span class="keyword">of</span> <code class="type">string</code></pre>
<div class="info ">
<div class="info-desc">
<p>Exception thrown during the decoding of a request's inputs.</p>
</div>
</div>

<pre><span id="VALfailure"><span class="keyword">val</span> failure</span> : <code class="type">?json:<a href="./Server.Data.html#TYPEjson">json</a> -><br>       ('a, Stdlib.Format.formatter, unit, 'b) Stdlib.format4 -> 'a</code></pre><div class="info ">
<ul class="info-attributes">
<li><b>Raises</b> <code>InputError</code> with provided message.</li>
</ul>
</div>

<pre><span id="VALfailure_from_type_error"><span class="keyword">val</span> failure_from_type_error</span> : <code class="type">string -> <a href="./Server.Data.html#TYPEjson">json</a> -> 'a</code></pre><div class="info ">
<ul class="info-attributes">
<li><b>Raises</b> <code>InputError</code> from <code class="code"><span class="constructor">Yojson</span>.<span class="constructor">Basic</span>.<span class="constructor">Util</span>.<span class="constructor">Type_error</span></code> arguments.</li>
</ul>
</div>
</body></html>
