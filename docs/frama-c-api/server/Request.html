<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="../style.css" type="text/css">
<meta content="text/html; charset=utf8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Main.html">
<link rel="next" href="States.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class attributes" rel=Appendix href="index_attributes.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of classes" rel=Appendix href="index_classes.html">
<link title="Index of class types" rel=Appendix href="index_class_types.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Abstract_interp" rel="Chapter" href="Abstract_interp.html">
<link title="Acsl_extension" rel="Chapter" href="Acsl_extension.html">
<link title="Alarms" rel="Chapter" href="Alarms.html">
<link title="Allocates" rel="Chapter" href="Allocates.html">
<link title="Alpha" rel="Chapter" href="Alpha.html">
<link title="Analyses_manager" rel="Chapter" href="Analyses_manager.html">
<link title="Annotations" rel="Chapter" href="Annotations.html">
<link title="Array" rel="Chapter" href="Array.html">
<link title="Asm_contracts" rel="Chapter" href="Asm_contracts.html">
<link title="Ast" rel="Chapter" href="Ast.html">
<link title="Ast_info" rel="Chapter" href="Ast_info.html">
<link title="Bag" rel="Chapter" href="Bag.html">
<link title="Base" rel="Chapter" href="Base.html">
<link title="Binary_cache" rel="Chapter" href="Binary_cache.html">
<link title="Bit_utils" rel="Chapter" href="Bit_utils.html">
<link title="Bitvector" rel="Chapter" href="Bitvector.html">
<link title="Bottom" rel="Chapter" href="Bottom.html">
<link title="Buffer" rel="Chapter" href="Buffer.html">
<link title="Bytes" rel="Chapter" href="Bytes.html">
<link title="Cabs" rel="Chapter" href="Cabs.html">
<link title="Cabs2cil" rel="Chapter" href="Cabs2cil.html">
<link title="Cabs_debug" rel="Chapter" href="Cabs_debug.html">
<link title="Cabshelper" rel="Chapter" href="Cabshelper.html">
<link title="Cabsvisit" rel="Chapter" href="Cabsvisit.html">
<link title="Cfg" rel="Chapter" href="Cfg.html">
<link title="Char" rel="Chapter" href="Char.html">
<link title="Cil" rel="Chapter" href="Cil.html">
<link title="Cil_const" rel="Chapter" href="Cil_const.html">
<link title="Cil_datatype" rel="Chapter" href="Cil_datatype.html">
<link title="Cil_descriptive_printer" rel="Chapter" href="Cil_descriptive_printer.html">
<link title="Cil_printer" rel="Chapter" href="Cil_printer.html">
<link title="Cil_state_builder" rel="Chapter" href="Cil_state_builder.html">
<link title="Cil_types" rel="Chapter" href="Cil_types.html">
<link title="Cil_types_debug" rel="Chapter" href="Cil_types_debug.html">
<link title="Cilconfig" rel="Chapter" href="Cilconfig.html">
<link title="Clexer" rel="Chapter" href="Clexer.html">
<link title="Clone" rel="Chapter" href="Clone.html">
<link title="Cmdline" rel="Chapter" href="Cmdline.html">
<link title="Command" rel="Chapter" href="Command.html">
<link title="Cparser" rel="Chapter" href="Cparser.html">
<link title="Cprint" rel="Chapter" href="Cprint.html">
<link title="Dataflow2" rel="Chapter" href="Dataflow2.html">
<link title="Dataflows" rel="Chapter" href="Dataflows.html">
<link title="Datatype" rel="Chapter" href="Datatype.html">
<link title="Db" rel="Chapter" href="Db.html">
<link title="Descr" rel="Chapter" href="Descr.html">
<link title="Description" rel="Chapter" href="Description.html">
<link title="Design" rel="Chapter" href="Design.html">
<link title="Destructors" rel="Chapter" href="Destructors.html">
<link title="Dgraph_helper" rel="Chapter" href="Dgraph_helper.html">
<link title="Dominators" rel="Chapter" href="Dominators.html">
<link title="Dotgraph" rel="Chapter" href="Dotgraph.html">
<link title="Dump_config" rel="Chapter" href="Dump_config.html">
<link title="Dynamic" rel="Chapter" href="Dynamic.html">
<link title="Emitter" rel="Chapter" href="Emitter.html">
<link title="Ephemeron" rel="Chapter" href="Ephemeron.html">
<link title="Errorloc" rel="Chapter" href="Errorloc.html">
<link title="Escape" rel="Chapter" href="Escape.html">
<link title="Eva_lattice_type" rel="Chapter" href="Eva_lattice_type.html">
<link title="Exn_flow" rel="Chapter" href="Exn_flow.html">
<link title="Extlib" rel="Chapter" href="Extlib.html">
<link title="FCHashtbl" rel="Chapter" href="FCHashtbl.html">
<link title="Fc_config" rel="Chapter" href="Fc_config.html">
<link title="Fc_float" rel="Chapter" href="Fc_float.html">
<link title="File" rel="Chapter" href="File.html">
<link title="File_manager" rel="Chapter" href="File_manager.html">
<link title="Filecheck" rel="Chapter" href="Filecheck.html">
<link title="Filepath" rel="Chapter" href="Filepath.html">
<link title="Filetree" rel="Chapter" href="Filetree.html">
<link title="Filter" rel="Chapter" href="Filter.html">
<link title="Float_interval" rel="Chapter" href="Float_interval.html">
<link title="Float_interval_sig" rel="Chapter" href="Float_interval_sig.html">
<link title="Float_sig" rel="Chapter" href="Float_sig.html">
<link title="Floating_point" rel="Chapter" href="Floating_point.html">
<link title="Format" rel="Chapter" href="Format.html">
<link title="Frama_c_init" rel="Chapter" href="Frama_c_init.html">
<link title="Frontc" rel="Chapter" href="Frontc.html">
<link title="Fval" rel="Chapter" href="Fval.html">
<link title="GSourceView" rel="Chapter" href="GSourceView.html">
<link title="Ghost_accesses" rel="Chapter" href="Ghost_accesses.html">
<link title="Ghost_cfg" rel="Chapter" href="Ghost_cfg.html">
<link title="Globals" rel="Chapter" href="Globals.html">
<link title="Gtk_compat" rel="Chapter" href="Gtk_compat.html">
<link title="Gtk_form" rel="Chapter" href="Gtk_form.html">
<link title="Gtk_helper" rel="Chapter" href="Gtk_helper.html">
<link title="Gui_init" rel="Chapter" href="Gui_init.html">
<link title="Gui_parameters" rel="Chapter" href="Gui_parameters.html">
<link title="Gui_printers" rel="Chapter" href="Gui_printers.html">
<link title="Hashtbl" rel="Chapter" href="Hashtbl.html">
<link title="Help_manager" rel="Chapter" href="Help_manager.html">
<link title="History" rel="Chapter" href="History.html">
<link title="Hook" rel="Chapter" href="Hook.html">
<link title="Hptmap" rel="Chapter" href="Hptmap.html">
<link title="Hptmap_sig" rel="Chapter" href="Hptmap_sig.html">
<link title="Hptset" rel="Chapter" href="Hptset.html">
<link title="Indexer" rel="Chapter" href="Indexer.html">
<link title="Infer_annotations" rel="Chapter" href="Infer_annotations.html">
<link title="Inline" rel="Chapter" href="Inline.html">
<link title="Int64" rel="Chapter" href="Int64.html">
<link title="Int_Base" rel="Chapter" href="Int_Base.html">
<link title="Int_Intervals" rel="Chapter" href="Int_Intervals.html">
<link title="Int_Intervals_sig" rel="Chapter" href="Int_Intervals_sig.html">
<link title="Int_interval" rel="Chapter" href="Int_interval.html">
<link title="Int_set" rel="Chapter" href="Int_set.html">
<link title="Int_val" rel="Chapter" href="Int_val.html">
<link title="Integer" rel="Chapter" href="Integer.html">
<link title="Interpreted_automata" rel="Chapter" href="Interpreted_automata.html">
<link title="Ival" rel="Chapter" href="Ival.html">
<link title="Journal" rel="Chapter" href="Journal.html">
<link title="Json" rel="Chapter" href="Json.html">
<link title="Json_compilation_database" rel="Chapter" href="Json_compilation_database.html">
<link title="Kernel" rel="Chapter" href="Kernel.html">
<link title="Kernel_function" rel="Chapter" href="Kernel_function.html">
<link title="Lattice_messages" rel="Chapter" href="Lattice_messages.html">
<link title="Lattice_type" rel="Chapter" href="Lattice_type.html">
<link title="Launcher" rel="Chapter" href="Launcher.html">
<link title="Lexerhack" rel="Chapter" href="Lexerhack.html">
<link title="List" rel="Chapter" href="List.html">
<link title="Lmap" rel="Chapter" href="Lmap.html">
<link title="Lmap_bitwise" rel="Chapter" href="Lmap_bitwise.html">
<link title="Lmap_sig" rel="Chapter" href="Lmap_sig.html">
<link title="Locations" rel="Chapter" href="Locations.html">
<link title="Log" rel="Chapter" href="Log.html">
<link title="Logic_builtin" rel="Chapter" href="Logic_builtin.html">
<link title="Logic_const" rel="Chapter" href="Logic_const.html">
<link title="Logic_env" rel="Chapter" href="Logic_env.html">
<link title="Logic_interp" rel="Chapter" href="Logic_interp.html">
<link title="Logic_lexer" rel="Chapter" href="Logic_lexer.html">
<link title="Logic_parser" rel="Chapter" href="Logic_parser.html">
<link title="Logic_preprocess" rel="Chapter" href="Logic_preprocess.html">
<link title="Logic_print" rel="Chapter" href="Logic_print.html">
<link title="Logic_ptree" rel="Chapter" href="Logic_ptree.html">
<link title="Logic_typing" rel="Chapter" href="Logic_typing.html">
<link title="Logic_utils" rel="Chapter" href="Logic_utils.html">
<link title="Loop" rel="Chapter" href="Loop.html">
<link title="Machdeps" rel="Chapter" href="Machdeps.html">
<link title="Map" rel="Chapter" href="Map.html">
<link title="Map_lattice" rel="Chapter" href="Map_lattice.html">
<link title="Markdown" rel="Chapter" href="Markdown.html">
<link title="Marshal" rel="Chapter" href="Marshal.html">
<link title="Menu_manager" rel="Chapter" href="Menu_manager.html">
<link title="Mergecil" rel="Chapter" href="Mergecil.html">
<link title="Messages" rel="Chapter" href="Messages.html">
<link title="Obj" rel="Chapter" href="Obj.html">
<link title="Offsetmap" rel="Chapter" href="Offsetmap.html">
<link title="Offsetmap_bitwise_sig" rel="Chapter" href="Offsetmap_bitwise_sig.html">
<link title="Offsetmap_lattice_with_isotropy" rel="Chapter" href="Offsetmap_lattice_with_isotropy.html">
<link title="Offsetmap_sig" rel="Chapter" href="Offsetmap_sig.html">
<link title="Oneret" rel="Chapter" href="Oneret.html">
<link title="Ordered_stmt" rel="Chapter" href="Ordered_stmt.html">
<link title="Origin" rel="Chapter" href="Origin.html">
<link title="Parameter_builder" rel="Chapter" href="Parameter_builder.html">
<link title="Parameter_category" rel="Chapter" href="Parameter_category.html">
<link title="Parameter_customize" rel="Chapter" href="Parameter_customize.html">
<link title="Parameter_sig" rel="Chapter" href="Parameter_sig.html">
<link title="Parameter_state" rel="Chapter" href="Parameter_state.html">
<link title="Parsing" rel="Chapter" href="Parsing.html">
<link title="Plugin" rel="Chapter" href="Plugin.html">
<link title="Pretty_source" rel="Chapter" href="Pretty_source.html">
<link title="Pretty_utils" rel="Chapter" href="Pretty_utils.html">
<link title="Printer" rel="Chapter" href="Printer.html">
<link title="Printer_api" rel="Chapter" href="Printer_api.html">
<link title="Printer_builder" rel="Chapter" href="Printer_builder.html">
<link title="Printer_tag" rel="Chapter" href="Printer_tag.html">
<link title="Printf" rel="Chapter" href="Printf.html">
<link title="Project" rel="Chapter" href="Project.html">
<link title="Project_manager" rel="Chapter" href="Project_manager.html">
<link title="Project_skeleton" rel="Chapter" href="Project_skeleton.html">
<link title="Property" rel="Chapter" href="Property.html">
<link title="Property_navigator" rel="Chapter" href="Property_navigator.html">
<link title="Property_status" rel="Chapter" href="Property_status.html">
<link title="Qstack" rel="Chapter" href="Qstack.html">
<link title="Queue" rel="Chapter" href="Queue.html">
<link title="Rangemap" rel="Chapter" href="Rangemap.html">
<link title="Rgmap" rel="Chapter" href="Rgmap.html">
<link title="Rich_text" rel="Chapter" href="Rich_text.html">
<link title="Rmtmps" rel="Chapter" href="Rmtmps.html">
<link title="Sanitizer" rel="Chapter" href="Sanitizer.html">
<link title="Scanf" rel="Chapter" href="Scanf.html">
<link title="Service_graph" rel="Chapter" href="Service_graph.html">
<link title="Set" rel="Chapter" href="Set.html">
<link title="Source_manager" rel="Chapter" href="Source_manager.html">
<link title="Source_viewer" rel="Chapter" href="Source_viewer.html">
<link title="Special_hooks" rel="Chapter" href="Special_hooks.html">
<link title="Stack" rel="Chapter" href="Stack.html">
<link title="State" rel="Chapter" href="State.html">
<link title="State_builder" rel="Chapter" href="State_builder.html">
<link title="State_dependency_graph" rel="Chapter" href="State_dependency_graph.html">
<link title="State_selection" rel="Chapter" href="State_selection.html">
<link title="State_topological" rel="Chapter" href="State_topological.html">
<link title="Statuses_by_call" rel="Chapter" href="Statuses_by_call.html">
<link title="Stmts_graph" rel="Chapter" href="Stmts_graph.html">
<link title="String" rel="Chapter" href="String.html">
<link title="Structural_descr" rel="Chapter" href="Structural_descr.html">
<link title="Substitute_const_globals" rel="Chapter" href="Substitute_const_globals.html">
<link title="Sys" rel="Chapter" href="Sys.html">
<link title="Task" rel="Chapter" href="Task.html">
<link title="Tr_offset" rel="Chapter" href="Tr_offset.html">
<link title="Transitioning" rel="Chapter" href="Transitioning.html">
<link title="Translate_lightweight" rel="Chapter" href="Translate_lightweight.html">
<link title="Type" rel="Chapter" href="Type.html">
<link title="Typed_parameter" rel="Chapter" href="Typed_parameter.html">
<link title="Undefined_sequence" rel="Chapter" href="Undefined_sequence.html">
<link title="Unicode" rel="Chapter" href="Unicode.html">
<link title="Unmarshal" rel="Chapter" href="Unmarshal.html">
<link title="Unmarshal_z" rel="Chapter" href="Unmarshal_z.html">
<link title="Unroll_loops" rel="Chapter" href="Unroll_loops.html">
<link title="Utf8_logic" rel="Chapter" href="Utf8_logic.html">
<link title="Vector" rel="Chapter" href="Vector.html">
<link title="Visitor" rel="Chapter" href="Visitor.html">
<link title="Visitor_behavior" rel="Chapter" href="Visitor_behavior.html">
<link title="Warning_manager" rel="Chapter" href="Warning_manager.html">
<link title="Wbox" rel="Chapter" href="Wbox.html">
<link title="Weak" rel="Chapter" href="Weak.html">
<link title="Wfile" rel="Chapter" href="Wfile.html">
<link title="Widget" rel="Chapter" href="Widget.html">
<link title="Wpalette" rel="Chapter" href="Wpalette.html">
<link title="Wpane" rel="Chapter" href="Wpane.html">
<link title="Wtable" rel="Chapter" href="Wtable.html">
<link title="Wtext" rel="Chapter" href="Wtext.html">
<link title="Wto" rel="Chapter" href="Wto.html">
<link title="Wto_statement" rel="Chapter" href="Wto_statement.html">
<link title="Wutil" rel="Chapter" href="Wutil.html">
<link title="Wutil_once" rel="Chapter" href="Wutil_once.html">
<link title="Server" rel="Chapter" href="Server.html">
<link title="Server_parameters" rel="Chapter" href="Server_parameters.html">
<link title="Jbuffer" rel="Chapter" href="Jbuffer.html">
<link title="Package" rel="Chapter" href="Package.html">
<link title="Data" rel="Chapter" href="Data.html">
<link title="Main" rel="Chapter" href="Main.html">
<link title="Request" rel="Chapter" href="Request.html">
<link title="States" rel="Chapter" href="States.html">
<link title="Server_doc" rel="Chapter" href="Server_doc.html">
<link title="Kernel_main" rel="Chapter" href="Kernel_main.html">
<link title="Kernel_project" rel="Chapter" href="Kernel_project.html">
<link title="Kernel_ast" rel="Chapter" href="Kernel_ast.html">
<link title="Kernel_properties" rel="Chapter" href="Kernel_properties.html"><link title="Signals" rel="Section" href="#2_Signals">
<link title="Simple Requests Registration" rel="Section" href="#2_SimpleRequestsRegistration">
<link title="Requests with Named Parameters" rel="Section" href="#2_RequestswithNamedParameters">
<link title="Named Parameters and Results" rel="Section" href="#2_NamedParametersandResults">
<link title="Exporting Dictionaries" rel="Section" href="#2_ExportingDictionaries">
<title>Request - Server plugin</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Main.html" title="Main">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="States.html" title="States">Next</a>
</div>
<h1>Module <a href="type_Request.html">Request</a></h1>

<pre><span id="MODULERequest"><span class="keyword">module</span> Request</span>: <code class="code"><span class="keyword">sig</span></code> <a href="Request.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
<div class="info-desc">
<p>Request Registry</p>
</div>
</div>
<hr width="100%">

<pre><span id="TYPEjson"><span class="keyword">type</span> <code class="type"></code>json</span> = <code class="type"><a href="./Data.html#TYPEjson">Data.json</a></code> </pre>


<pre><span id="TYPEkind"><span class="keyword">type</span> <code class="type"></code>kind</span> = <code class="type">[ `EXEC | `GET | `SET ]</code> </pre>


<pre><span id="MODULETYPEInput"><span class="keyword">module type</span> <a href="Request.Input.html">Input</a></span> = <code class="code"><span class="keyword">sig</span></code> <a href="Request.Input.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><span id="MODULETYPEOutput"><span class="keyword">module type</span> <a href="Request.Output.html">Output</a></span> = <code class="code"><span class="keyword">sig</span></code> <a href="Request.Output.html">..</a> <code class="code"><span class="keyword">end</span></code></pre>
<pre><span id="TYPEinput"><span class="keyword">type</span> <code class="type">'a</code> input</span> = <code class="type">(module Request.Input with type t = 'a)</code> </pre>


<pre><span id="TYPEoutput"><span class="keyword">type</span> <code class="type">'b</code> output</span> = <code class="type">(module Request.Output with type t = 'b)</code> </pre>

<h3 id="2_Signals">Signals</h3>
<p>A signal is a one-way message from server to client for indicating that
    something happened. To avoid unecessary noise, the client must be registered
    on each signal it is interested in. The client will then send a proper get
    requests to the server to retrieve the updated data.</p>

<p>As a matter of fact, update events are much more frequent than what a
    typical GUI client can handle. Hence, signal emissions can not carry data and
    are grouped (or « debounced ») until the next server response to client.</p>

<pre><span id="TYPEsignal"><span class="keyword">type</span> <code class="type"></code>signal</span> </pre>
<div class="info ">
<div class="info-desc">
<p>The type of registered signals.</p>
</div>
</div>


<pre><span id="VALsignal"><span class="keyword">val</span> signal</span> : <code class="type">package:<a href="./Package.html#TYPEpackage">Package.package</a> -><br>       name:string -> descr:<a href="../../../doc/code/html/Markdown.html#TYPEtext">Markdown.text</a> -> <a href="./Request.html#TYPEsignal">signal</a></code></pre><div class="info ">
<div class="info-desc">
<p>Register a server signal. The signal <code class="code">name</code> must be unique.</p>
</div>
</div>

<pre><span id="VALemit"><span class="keyword">val</span> emit</span> : <code class="type"><a href="./Request.html#TYPEsignal">signal</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Emit the signal to the client.</p>
</div>
</div>

<pre><span id="VALon_signal"><span class="keyword">val</span> on_signal</span> : <code class="type"><a href="./Request.html#TYPEsignal">signal</a> -> (bool -> unit) -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Callback invoked each time the client is starting or stopping
    to listen to the given signal.</p>
</div>
</div>
<h3 id="2_SimpleRequestsRegistration">Simple Requests Registration</h3>
<pre><span id="VALregister"><span class="keyword">val</span> register</span> : <code class="type">package:<a href="./Package.html#TYPEpackage">Package.package</a> -><br>       kind:<a href="./Request.html#TYPEkind">kind</a> -><br>       name:string -><br>       descr:<a href="../../../doc/code/html/Markdown.html#TYPEtext">Markdown.text</a> -><br>       input:'a <a href="./Request.html#TYPEinput">input</a> -> output:'b <a href="./Request.html#TYPEoutput">output</a> -> ('a -> 'b) -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Register a simple request of type <code class="code">(a&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;b)</code>.</p>

<p>Name, page and kind must be consistent with each others:</p>
<ul>
<li>No publication on <code class="code"><span class="keywordsign">`</span><span class="constructor">Protocol</span></code> pages</li>
<li>Kernel requests shall starts with <code class="code"><span class="string">"Kernel.*"</span></code></li>
<li>Plugin requests shall starts with <code class="code"><span class="string">"&lt;Plugin&gt;.*"</span></code></li>
<li>SET requests must contain <code class="code"><span class="string">"set"</span></code> (case insensitive)</li>
<li>GET requests must contain <code class="code"><span class="string">"get"</span></code> or <code class="code"><span class="string">"print"</span></code> (case insensitive)</li>
<li>EXEC requests must contain <code class="code"><span class="string">"exec"</span></code> or <code class="code"><span class="string">"compute"</span></code> (case insensitive)</li>
</ul>
</div>
</div>
<h3 id="2_RequestswithNamedParameters">Requests with Named Parameters</h3>
<p>The API below allows for creating requests with
    named and optional parameters. Although such requests
    could be defined with simple registration and <i>record</i> datatypes,
    the helpers below allow more flexibility and a better correspondance
    between optional parameters and OCaml option types.</p>

<p>To register a request with named parameters and/or named results,
    you first create a <i>signature</i>. Then you define named
    parameters and results, and finally you <i>register</i> the processing
    function:</p>

<pre class="codepre"><code class="code">      <span class="comment">(* ---- Exemple of Request Registration --- *)</span>
      <span class="keyword">let</span> () =
        <span class="keyword">let</span> s = <span class="constructor">Request</span>.signature ~page ~kind ~name ~descr () <span class="keyword">in</span>
        <span class="keyword">let</span> get_a = <span class="constructor">Request</span>.param s ~name:<span class="string">"a"</span> ~descr:<span class="string">"..."</span> (<span class="keyword">module</span> <span class="constructor">A</span>) <span class="keyword">in</span>
        <span class="keyword">let</span> get_b = <span class="constructor">Request</span>.param s ~name:<span class="string">"b"</span> ~descr:<span class="string">"..."</span> (<span class="keyword">module</span> <span class="constructor">B</span>) <span class="keyword">in</span>
        <span class="keyword">let</span> set_c = <span class="constructor">Request</span>.result s ~name:<span class="string">"c"</span> ~descr:<span class="string">"..."</span> (<span class="keyword">module</span> <span class="constructor">C</span>) <span class="keyword">in</span>
        <span class="keyword">let</span> set_d = <span class="constructor">Request</span>.result s ~name:<span class="string">"d"</span> ~descr:<span class="string">"..."</span> (<span class="keyword">module</span> <span class="constructor">D</span>) <span class="keyword">in</span>
        <span class="constructor">Request</span>.register_sig s
          (<span class="keyword">fun</span> rq () <span class="keywordsign">-&gt;</span>
             <span class="keyword">let</span> (c,d) = some_job (get_a rq) (get_b rq) <span class="keyword">in</span>
             set_c rq c ; set_d rq d)
    </code></pre>
<pre><span id="TYPEsignature"><span class="keyword">type</span> <code class="type">('a, 'b)</code> signature</span> </pre>
<div class="info ">
<div class="info-desc">
<p>Under definition request signature.</p>
</div>
</div>


<pre><span id="VALsignature"><span class="keyword">val</span> signature</span> : <code class="type">?input:'a <a href="./Request.html#TYPEinput">input</a> -><br>       ?output:'b <a href="./Request.html#TYPEoutput">output</a> -> unit -> ('a, 'b) <a href="./Request.html#TYPEsignature">signature</a></code></pre><div class="info ">
<div class="info-desc">
<p>Create an opened request signature.
    Depending on whether <code class="code">~input</code> and <code class="code">~output</code> datatype are provided,
    you shall define named parameters and results before registering the
    request processing function.</p>
</div>
</div>

<pre><span id="TYPErq"><span class="keyword">type</span> <code class="type"></code>rq</span> </pre>
<div class="info ">
<div class="info-desc">
<p>Request JSON parameters.</p>
</div>
</div>


<pre><span id="TYPEparam"><span class="keyword">type</span> <code class="type">'a</code> param</span> = <code class="type"><a href="./Request.html#TYPErq">rq</a> -> 'a</code> </pre>
<div class="info ">
<div class="info-desc">
<p>Named input parameter.</p>
</div>
</div>


<pre><span id="TYPEresult"><span class="keyword">type</span> <code class="type">'b</code> result</span> = <code class="type"><a href="./Request.html#TYPErq">rq</a> -> 'b -> unit</code> </pre>
<div class="info ">
<div class="info-desc">
<p>Named output parameter.</p>
</div>
</div>


<pre><span id="VALregister_sig"><span class="keyword">val</span> register_sig</span> : <code class="type">package:<a href="./Package.html#TYPEpackage">Package.package</a> -><br>       kind:<a href="./Request.html#TYPEkind">kind</a> -><br>       name:string -><br>       descr:<a href="../../../doc/code/html/Markdown.html#TYPEtext">Markdown.text</a> -><br>       ('a, 'b) <a href="./Request.html#TYPEsignature">signature</a> -> (<a href="./Request.html#TYPErq">rq</a> -> 'a -> 'b) -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Register the request JSON processing function.
    This call finalize the signature definition and shall be called
    once on the signature.</p>
</div>
</div>
<h3 id="2_NamedParametersandResults">Named Parameters and Results</h3>
<p>The functions bellow must be called on a freshly created signature
    <i>before</i> its final registration. The obtained getters and setters
    shall be only used within the registered process.</p>

<p>The correspondance between input/output JSON syntax and OCaml values
    is summarized in the tables below.Abstract_domain</p>

<p>For named input parameters:
    <code class="code"><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">API</span>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Input</span>&nbsp;<span class="constructor">JSON</span>&nbsp;&nbsp;&nbsp;<span class="constructor">OCaml</span>&nbsp;<span class="constructor">Getter</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-----------------------------------------------------------------------<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Request</span>.param&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;f:&nbsp;a&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">'</span>a&nbsp;<span class="comment">(*&nbsp;might&nbsp;raise&nbsp;an&nbsp;exception&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Request</span>.param&nbsp;~default&nbsp;&nbsp;&nbsp;{&nbsp;f:&nbsp;a?&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">'</span>a&nbsp;<span class="comment">(*&nbsp;defined&nbsp;by&nbsp;default&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Request</span>.param_opt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;f:&nbsp;a?&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">'</span>a&nbsp;option<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;</code></p>

<p>For named output parameters:
    <code class="code"><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">API</span>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Input</span>&nbsp;<span class="constructor">JSON</span>&nbsp;&nbsp;&nbsp;<span class="constructor">OCaml</span>&nbsp;<span class="constructor">Setter</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;----------------------------------------------------------------------<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Request</span>.result&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;f:&nbsp;a&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">'</span>a&nbsp;<span class="comment">(*&nbsp;shall&nbsp;be&nbsp;set&nbsp;by&nbsp;process&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Request</span>.result&nbsp;~default&nbsp;&nbsp;{&nbsp;f:&nbsp;a&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">'</span>a&nbsp;<span class="comment">(*&nbsp;defined&nbsp;by&nbsp;default&nbsp;*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="constructor">Request</span>.result_opt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;f:&nbsp;a?&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">'</span>a&nbsp;option<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;</code></p>

<pre><span id="VALparam"><span class="keyword">val</span> param</span> : <code class="type">(unit, 'b) <a href="./Request.html#TYPEsignature">signature</a> -><br>       name:string -><br>       descr:<a href="../../../doc/code/html/Markdown.html#TYPEtext">Markdown.text</a> -> ?default:'a -> 'a <a href="./Request.html#TYPEinput">input</a> -> 'a <a href="./Request.html#TYPEparam">param</a></code></pre><div class="info ">
<div class="info-desc">
<p>Named input parameter. If a default value is provided, the JSON input field
    becomes optional. Otherwized, it is required.</p>
</div>
</div>

<pre><span id="VALparam_opt"><span class="keyword">val</span> param_opt</span> : <code class="type">(unit, 'b) <a href="./Request.html#TYPEsignature">signature</a> -><br>       name:string -><br>       descr:<a href="../../../doc/code/html/Markdown.html#TYPEtext">Markdown.text</a> -> 'a <a href="./Request.html#TYPEinput">input</a> -> 'a option <a href="./Request.html#TYPEparam">param</a></code></pre><div class="info ">
<div class="info-desc">
<p>Named optional input parameter.</p>
</div>
</div>

<pre><span id="VALresult"><span class="keyword">val</span> result</span> : <code class="type">('a, unit) <a href="./Request.html#TYPEsignature">signature</a> -><br>       name:string -><br>       descr:<a href="../../../doc/code/html/Markdown.html#TYPEtext">Markdown.text</a> -> ?default:'b -> 'b <a href="./Request.html#TYPEoutput">output</a> -> 'b <a href="./Request.html#TYPEresult">result</a></code></pre><div class="info ">
<div class="info-desc">
<p>Named output parameter. If a default value is provided, the JSON output
    field is initialized with it. Otherwise, it shall be set at each invocation
    of the request processing funciton.</p>
</div>
</div>

<pre><span id="VALresult_opt"><span class="keyword">val</span> result_opt</span> : <code class="type">('a, unit) <a href="./Request.html#TYPEsignature">signature</a> -><br>       name:string -><br>       descr:<a href="../../../doc/code/html/Markdown.html#TYPEtext">Markdown.text</a> -> 'b <a href="./Request.html#TYPEoutput">output</a> -> 'b option <a href="./Request.html#TYPEresult">result</a></code></pre><div class="info ">
<div class="info-desc">
<p>Named optional output parameter. The initial value is set to <code class="code"><span class="constructor">None</span></code>.</p>
</div>
</div>
<h3 id="2_ExportingDictionaries">Exporting Dictionaries</h3>
<pre><span id="VALdictionary"><span class="keyword">val</span> dictionary</span> : <code class="type">package:<a href="./Package.html#TYPEpackage">Package.package</a> -><br>       name:string -><br>       descr:<a href="../../../doc/code/html/Markdown.html#TYPEtext">Markdown.text</a> -><br>       'a <a href="./Data.Enum.html#TYPEdictionary">Data.Enum.dictionary</a> -> (module Data.S with type t = 'a)</code></pre><div class="info ">
<div class="info-desc">
<p>Register a <code class="code"><span class="constructor">GET</span></code> request <code class="code">dictionary.&lt;name&gt;</code> to retrieve all tags registered
    in the dictionary.</p>
</div>
</div>
</body></html>
